<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>mvvm</title>
  <script>
    /**
     * æŠŠä¸€ä¸ªå¯¹è±¡çš„æ¯ä¸€é¡¹éƒ½è½¬åŒ–æˆå¯è§‚æµ‹å¯¹è±¡
     * @param { Object } obj å¯¹è±¡
     */
    function observable (obj) {
      if (!obj || typeof obj !== "object") {
        return;
      }
      const keys = Object.keys(obj);
      keys.forEach((key) => {
        defineReactive(obj, key, obj[key]);
      });
      return obj;
    }
    /**
     * ä½¿ä¸€ä¸ªå¯¹è±¡è½¬åŒ–æˆå¯è§‚æµ‹å¯¹è±¡
     * @param { Object } obj å¯¹è±¡
     * @param { String } key å¯¹è±¡çš„key
     * @param { Any } val å¯¹è±¡çš„æŸä¸ªkeyçš„å€¼
     */
    function defineReactive (obj, key, val) {
      Object.defineProperty(obj, key, {
        get () {
          console.log(`${key}å±æ€§è¢«è¯»å–äº†`);
          return val;
        },
        set (newVal) {
          console.log(`${key}å±æ€§è¢«ä¿®æ”¹äº†`);
          val = newVal;
        }
      });
    }

    // æµ‹è¯•å‡½æ•°ä¼ å‚  å‡½æ•°å†…éƒ¨æ˜¯å¦å¯ä»¥ä¿®æ”¹å®å‚å€¼ï¼Ÿ
    // ç»“è®ºï¼šå¯ä»¥ä¿®æ”¹å¼•ç”¨ç±»å‹å®å‚ï¼Œä¸å¯ä»¥ä¿®æ”¹åŸºæœ¬ç±»å‹å®å‚
    var a = 1;
    var b = {
      a: 2
    };

    function change (p1, p2) {
      p1 = 3;
      p2 = 4;
      console.log("%c ğŸ© p1: ", "font-size:20px;background-color: #2EAFB0;color:#fff;", p1);
      console.log("%c ğŸ¥š p2: ", "font-size:20px;background-color: #93C0A4;color:#fff;", p2);
    }
    change(a, b.a);
    console.log("%c ğŸª a: ", "font-size:20px;background-color: #ED9EC7;color:#fff;", a);
    console.log("%c ğŸ¦€ b: ", "font-size:20px;background-color: #6EC1C2;color:#fff;", b);
  </script>
</head>

<body>

</body>

</html>